function generateRandomCode() {
  var characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
  var code = "";

  for (var i = 0; i < 3; i++) {
    var section = "";
    for (var j = 0; j < 5; j++) {
      var randomIndex = Math.floor(Math.random() * characters.length);
      var character = characters.charAt(randomIndex);
      section += character;
    }
    code += section + "-";
  }

  // Remove the trailing dash
  code = code.slice(0, -1);

  return code;
}

var maxAttempts = 100000000000; // Maximum number of attempts
var attempts = 0;
var validCode = "";
var progressInterval = maxAttempts / 1000; // Update progress every 0.1%

while (attempts < maxAttempts && !validCode) {
  var codeToTry = generateRandomCode();
  attempts++;

  if (attempts % progressInterval === 0) {
    var progress = (attempts / maxAttempts) * 100;
    console.log("Progress: " + progress.toFixed(1) + "% complete.");
  }

  if (redeemCode(codeToTry)) {
    validCode = codeToTry;
    break;
  }
}

if (validCode) {
  console.log("Success! Valid code found: " + validCode);
} else {
  console.log("No valid code was found after " + attempts + " attempts.");
}

// Simulating the redeemCode function
function redeemCode(code) {
  // Replace this with your logic to validate and redeem the code
  // Example: check against a database or API to determine if the code is valid

  // Simulating a successful redemption for demonstration purposes
  if (code === "XJY9F-L5P8P-ADTV7") {
    return true;
  } else {
    return false;
  }
}
